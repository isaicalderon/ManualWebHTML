<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="Isai Aleman">
        <meta name="generator" content="">
        <title>Manual de Aplicaciones WEB</title>

        <link rel="canonical" href="https://getbootstrap.com/docs/4.3/examples/starter-template/">
        <!-- Bootstrap core CSS -->

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        
        <!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> -->
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="../css/index.css">
        <link rel="stylesheet" type="text/css" href="../css/code.css">
        <!-- <script src="https://cdn.jsdelivr.net/npm/vue"></script> -->
        <!-- Custom styles for this template -->
        <!-- <link href="starter-template.css" rel="stylesheet"> -->


    </head>
    <body>
        <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
            <a class="navbar-brand" href="../index.html">Manual Aplicaciones Web / Aplicacion Web</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" 
                aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarsExampleDefault">
                <ul class="navbar-nav mr-auto">
                    <!-- <li class="nav-item active"><a class="nav-link" href="#"></a></li>
                    <li class="nav-item"><a class="nav-link" href="#">Link</a></li>
                    <li class="nav-item"><a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a></li>
                     -->
                    <!-- <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dropdown</a>
                        <div class="dropdown-menu" aria-labelledby="dropdown01">
                            <a class="dropdown-item" href="#">Action</a>
                            <a class="dropdown-item" href="#">Another action</a>
                            <a class="dropdown-item" href="#">Something else here</a>
                        </div>
                    </li>
                     -->
                </ul>

                <!-- <form class="form-inline my-2 my-lg-0">
                    <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
                    <button class="btn btn-secondary my-2 my-sm-0" type="submit">Search</button>
                </form>
                 -->
            </div>
        </nav>

    <main role="main" class="container" style="margin-top: 5em;/*border: 1px solid #ccc; */">
        <ol class="ol2">
            <li>
                <p>Creación del proyecto</p>
                <p class="p_sec">
                    Para crear un proyecto web, tendremos que ir a File → New → Dynamic Web Project.
                </p>
                <div class="text-center">
                    <img src="../img/img67.png" class="img-fluid rounded" alt="...">
                </div>
                <div class="text-center">
                    <img src="../img/img68.png" class="img-fluid rounded" alt="...">
                </div>
                <div class="text-center">
                    <img src="../img/img69.png" class="img-fluid rounded" alt="...">
                </div>
                <p class="p_sec">
                    Tendremos que crear dos paquetes nuevos, <span class="blue">com.matco.manual.bean</span> y <span class="blue">com.matco.manual.controller</span>.
                </p>
                <div class="text-center">
                    <img src="../img/img70.png" class="img-fluid rounded" alt="...">
                </div>
                <p class="p_sec">
                    Aquí pegaremos los archivos que están en la carpeta Clases, los de la carpeta Bean van en com.matco.manual.bean y los de la carpeta Controller van en com.matco.manual.controller. La clase LoginBean se utiliza para la sesión y la clase GenericBean trae métodos generales para tareas que necesitamos en este manual. Más adelante se explica para qué es cada cosa.
                </p>
                <div class="text-center">
                    <img src="../img/img71.png" class="img-fluid rounded" alt="...">
                </div>
                <p class="p_sec">
                    Puede que haya errores al pegar las clases, esto se deba a que todavía no hemos puesto las librerías que necesitamos, las librerías que se necesitan se deben de meter en WebContent/WEB-INF/lib. <br/>
                    Ya con las librerías puestas, las clases no darán más problemas.
                </p>
                <div class="text-center">
                    <img src="../img/img72.png" class="img-fluid rounded" alt="...">
                </div>
                <p class="p_sec">
                    Ahora toca configurar el archivo WebContent/WEB-INF/web.xml, para esto, tendremos que utilizar el archivo que está en la carpeta XML/web.xml, copiamos todo el contenido y lo pegamos dentro de nuestro web.xml, esto ajusta parámetros que estén dentro del mismo servidor, el siguiente parámetro se encarga de buscar en la carpeta bin de Wildfly y encontrar el archivo con ese nombre, <span class="blue">&lt;param-value&gt;</span> sirve para hacer una petición sobre el nombre que le dimos y que nos regrese el valor de <span class="blue">&lt;param-value&gt;</span>.
                </p>
                
                <p class="panel-code">
                    <code class="code-build"><br>
                        <span class="blue">&lt;context-param&gt;</span><br>
                        <span class="tab"></span><span class="blue">&lt;param-name&gt;</span>admintx_csa<span class="blue">&lt;/param-name&gt;</span><br>
                        <span class="tab"></span><span class="blue">&lt;param-value&gt;</span>admintx_csa.properties<span class="blue">&lt;/param-value&gt;</span><br>
                        <span class="blue">&lt;/context-param&gt;</span>
                    </code>
                </p>        
                
                <p class="p_sec">
                    Ya configurado esto, podremos continuar con la lógica de nuestra aplicación, ya que sabemos lo que nuestro ABC necesita para poder trabajar, empezaremos con la programación de JSF. <br/> <br/>
                    Para esto tendremos que crear un Bean que sirva como administrador para nuestro catálogo, este contendrá las operaciones que necesitamos, las cuales serían: listar, agregar, modificar y eliminar. Mediante el Bean nosotros programamos el back-end de nuestra aplicación. Primero tendremos que importar las librerías de entidades y de persistencia, es importante no exportar los .jar con sus librerías ya que estas quedarían mucho más pesadas de lo que deberían. <br/> <br/>
                    Aquí está el proceso para poder exportar correctamente la persistencia:
                </p>
                <div class="text-center">
                    <img src="../img/img73.png" class="img-fluid rounded" alt="...">
                </div>
                <div class="text-center">
                    <img src="../img/img74.png" class="img-fluid rounded" alt="...">
                </div>
                <p class="p_sec">
                    Ya hecho esto, pasaremos a la creación de nuestro Bean administrativo para nuestro catálogo.
                </p>
                <p class="p_sec">
                    Primero necesitamos crear este Bean, creamos una nueva clase en <span class="blue">com.matco.manual.bean</span> y le pondremos <span class="blue">AdministradorAlumnosBean</span>. Abajo estará el código completo.
                </p>
                <p class="panel-code">
                    <code class="code-build">
                        <span class='pr'>package</span> com.matco.manual.bean;<br/><br/><span class='pr'>public</span> <span class='pr'>class</span> AdministradorAlumnosBean {<br/><br/>}
                    </code>
                </p>
                <br/>
                <p class="p_sec">
                    Necesitamos extender GenericBean e implementar Serializable, también necesitamos las anotaciones de @ManagedBean y @ViewScoped.
                </p>
                <div class="text-center">
                    <img src="../img/img74.1.png" class="img-fluid rounded" alt="...">
                </div>
                <p class="p_sec">
                    @ManagedBean como lo dice su nombre, es un bean administrado por el framework de JSF. Se puede acceder a los bean administrados mediante la página JSF, también se le puede poner nombre con el atributo name, para poder llamarlo como nosotros queramos y poder utilizar sus métodos desde código XHTML. <br/> <br/>
                    @ViewScoped, el ViewScoped vive siempre y cuando el usuario siga viendo una página, la vida de este empieza desde que se crea una petición de HTTP y es destruido cuando se cambia a otra vista. <br/><br/>
                    Ahora tendremos que crear las variables globales necesarias para nuestro catálogo, estas son las siguientes:
                </p>
                <div class="text-center">
                    <img src="../img/img74.2.png" class="img-fluid rounded" alt="...">
                </div>
                <p class="p_sec">
                    Generamos getter y setter. Esto se hace para poder llamar las variables que están en el bean administrado desde la página de JSF, esto se hace con el EL (Expression Languaje). 
                </p>
                <div class="text-center">
                    <img src="../img/img75.png" class="img-fluid rounded" alt="...">
                </div>
                <p class="p_sec">
                    Ahora necesitamos crear el método init, aquí inicializamos los parámetros que vamos a necesitar en el ciclo de vida de nuestro bean, por lo general aquí se pone el usuario y las consultas necesarias para llenar listas.
                </p>
                <p class="panel-code">
                    <code class="code-build">
                         <span class='tab'></span> <span class="override">@PostConstruct</span><br/> <span class='tab'></span> <span class='pr'>public</span> <span class='pr'>void</span> init() {<br/> <span class='tab'></span>  <span class='tab'></span> <span class="var">loginBean</span> = <span class='pr'>this</span>.obtenerBean(<span class="var">"loginBean"</span>);<br/> <span class='tab'></span>  <span class='tab'></span><span class="var"> usuario</span> = <span class="var">loginBean</span>.getUsuario() != <span class="pr">null</span> ? <span class="var">loginBean</span>.getUsuario().getUsuario() : <span class="var">"DESARROLLO"</span>;<br/>  <span class='tab'></span> }
                    </code>
                </p>
                <br>
                <p class="p_sec">
                    @PostConstruct se encarga de que este método se llame una sola vez en todo el ciclo de vida, ya que al ser ViewScoped, la vista queda viva hasta que uno cambia de página, si fuera @RequestScoped, el método sería ejecutado cada vez se hace una petición. <br> <br>
                    También se necesita la lista de los alumnos que están en la base de datos, para eso necesitamos crear un método que llena la lista y después tenemos que llamarlo desde el init.
                </p>
                <p class="panel-code">
                    <code class="code-build">
                         <span class='tab'></span> <span class="override">@PostConstruct</span><br/> <span class='tab'></span> <span class='pr'>public</span> <span class='pr'>void</span> init() {<br/> <span class='tab'></span>  <span class='tab'></span> <span class="var">loginBean</span> = <span class='pr'>this</span>.obtenerBean(<span class="var">"loginBean"</span>);<br/> <span class='tab'></span>  <span class='tab'></span><span class="var"> usuario</span> = <span class="var">loginBean</span>.getUsuario() != <span class="pr">null</span> ? <span class="var">loginBean</span>.getUsuario().getUsuario() : <span class="var">"DESARROLLO"</span>;<br/> <span class='tab'></span>  <span class='tab'></span> <span class="var">alumnosList</span> = listarAlumnos(); <span class="com">// se agrego esta linea</span><br/> <span class='tab'></span> }<br/> <span class='tab'></span> <br/> <span class='tab'></span> <span class='pr'>public</span> List&lt;Alumno&gt; listarAlumnos() {<br/> <span class='tab'></span>  <span class='tab'></span> List&lt;Alumno&gt; <span class="name-var">alumnos</span> = <span class='pr'>new</span> ArrayList&lt;Alumno&gt;();<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>try</span> {<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> <span class="name-var">alumnos</span> = alumnoFacade.obtenerTodosAlumnos();<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> Comparator&lt;Alumno&gt; comp = (Alumno a, Alumno b) -&gt; {<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> Date fechaA = a.getFechaHoraCreacion() != <span class='pr'>null</span> ? a.getFechaHoraCreacion() : <span class='pr'>new</span> Date();<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> Date fechaB = b.getFechaHoraCreacion() != <span class='pr'>null</span> ? b.getFechaHoraCreacion() : <span class='pr'>new</span> Date();<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> <span class='pr'>return</span> fechaB.compareTo(fechaA);<br/> <span class='tab'></span>  <span class='tab'></span> };<br/> <span class='tab'></span>  <span class='tab'></span> Collections.sort(<span class="name-var">alumnos</span>, comp);<br/> <span class='tab'></span>  <span class='tab'></span> } <span class="pr">catch</span> (Exception e) {<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> error = "No se pudieron listar los "+ summary;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> LOG.error(error, e);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> agregarMensajeError(summary, error);<br/> <span class='tab'></span>  <span class='tab'></span> }<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>return</span> <span class='name-var'>alumnos</span>;<br/> <span class='tab'></span> }
                    </code>
                </p>
                <p class="p_sec">
                    Como se ve, inicializamos la lista con el método listarAlumnos, el método manda a llamar al método creado en la persistencia, este consigue toda la lista de alumnos de la tabla y los mete en una List<T>, utilizamos un Comparator para que los registros más nuevos salgan hasta arriba, necesitamos utilizar operadores ternarios para operaciones simples que involucren expresiones boolean, como en la asignación de usuario y en la asignación de las fechas. Como se ve, el método contiene try y catch, esto debido a que puede haber un error al consultar, dicho error saldrá en nuestro catch que manda un mensaje con un método de GenericBean para poder visualizarlo en la vista Web. <br><br>
                    Ya que tenemos nuestra lista, es hora de hacer los métodos que necesitamos para el catálogo. <br>
                    Empezando con agregar:
                </p>
                <p class="panel-code">
                    <code class="code-build">
                         <span class='tab'></span> <span class='pr'>public</span> <span class='pr'>void</span> agregarAlumno() {<br/> <span class='tab'></span>  <span class='tab'></span> Alumno nuevo = <span class='pr'>new</span> Alumno();<br/> <span class='tab'></span>  <span class='tab'></span> nuevo.setNombres(nombres);<br/> <span class='tab'></span>  <span class='tab'></span> nuevo.setApellidoPaterno(apellidoPaterno);<br/> <span class='tab'></span>  <span class='tab'></span> nuevo.setApellidoMaterno(apellidoMaterno);<br/> <span class='tab'></span>  <span class='tab'></span> nuevo.setCreadoPor(usuario);<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>try</span> {<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> <span class='pr'>int</span> matricula = alumnoFacade.guardarAlumno(nuevo);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> nuevo.setMatricula(matricula);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> details = "Se ha agregado correctamente el alumno "+this.getNombreFormateado(nuevo);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> agregarMensajeInfo(summary, details);<br/> <span class='tab'></span>  <span class='tab'></span> } <span class='pr'>catch</span> (Exception e) {<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> error = "No se pudo agregar el alumno "+this.getNombreCompleto(nuevo);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> LOG.error(summary, e);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> agregarMensajeError(summary, error);<br/> <span class='tab'></span>  <span class='tab'></span> }<br/> <span class='tab'></span>  <span class='tab'></span> reload();<br/> <span class='tab'></span>  <span class='tab'></span> <br/> <span class='tab'></span> }
                    </code>
                </p>
                <p class="p_sec">
                    Aquí existe un método reload, este método reinicializa las variables a estados null o las cadenas quedan vacías, esto se hace porque cuando uno termina una acción en la vista, esta no se actualiza sola, se debe de hacer un update desde xhtml y esta mostrará los campos con sus nuevos valores. <br/> <br/>
                    El método reload es el siguiente:
                </p>
                <p class="panel-code">
                    <code class="code-build">
                         <span class='tab'></span> <span class='pr'>public</span> <span class='pr'>void</span> reload() {<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>if</span> (alumnosList != null) {<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> alumnosList.clear();<br/> <span class='tab'></span>  <span class='tab'></span> }<br/> <span class='tab'></span>  <span class='tab'></span> alumnosList = listarAlumnos();<br/> <span class='tab'></span>  <span class='tab'></span> nombres = "";<br/> <span class='tab'></span>  <span class='tab'></span> apellidoPaterno = "";<br/> <span class='tab'></span>  <span class='tab'></span> apellidoMaterno = "";<br/> <span class='tab'></span>  <span class='tab'></span> matricula = 0;<br/> <span class='tab'></span>  <span class='tab'></span> alumno = null;<br/> <span class='tab'></span>  <span class='tab'></span> PrimeFaces pf = PrimeFaces.current();<br/> <span class='tab'></span>  <span class='tab'></span> pf.executeScript("PF('tablaAlumnos').clearFilters()");<br/> <span class='tab'></span> }
                    </code>
                </p>
                <br/>
                <p class="p_sec">
                    Utilizamos PrimeFaces pf para poder mandar un script que pueda actualizar nuestra tabla, esta borra los filtros y parece que la tabla ha sido cargada de nuevo. <br/> <br/>
                    El método modificar y eliminar sería el siguiente:
                </p>
                <p class="panel-code">
                    <code class="code-build">
                         <span class='tab'></span> <span class='pr'>public</span> <span class='pr'>void</span> modificarAlumno() {<br/> <span class='tab'></span>  <span class='tab'></span> Alumno modificar = alumno;<br/> <span class='tab'></span>  <span class='tab'></span> modificar.setNombres(nombres);<br/> <span class='tab'></span>  <span class='tab'></span> modificar.setApellidoPaterno(apellidoPaterno);<br/> <span class='tab'></span>  <span class='tab'></span> modificar.setApellidoMaterno(apellidoMaterno);<br/> <span class='tab'></span>  <span class='tab'></span> modificar.setModificadoPor(usuario);<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>try</span> {<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> alumnoFacade.modificarAlumno(modificar);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> details = "Se ha modificado correctamente el alumno "+this.getNombreFormateado(modificar);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> agregarMensajeInfo(summary, details);<br/> <span class='tab'></span>  <span class='tab'></span> } <span class='pr'>catch</span> (Exception e) {<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> error = "No se pudo modificar el alumno "+this.getNombreCompleto(modificar);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> LOG.error(error, e);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> agregarMensajeError(summary, error);<br/> <span class='tab'></span>  <span class='tab'></span> }<br/> <span class='tab'></span>  <span class='tab'></span> reload();<br/> <span class='tab'></span> }<br/> <span class='tab'></span> <br/> <span class='tab'></span> <span class='pr'>public</span> <span class='pr'>void</span> eliminarAlumno() {<br/> <span class='tab'></span>  <span class='tab'></span> Alumno tmp = alumno;<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>try</span> {<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> alumnoFacade.eliminarAlumno(tmp);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> details = "Se ha eliminado al ex-alumno: "+this.getNombreFormateado(tmp);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> agregarMensajeInfo(summary, details);<br/> <span class='tab'></span>  <span class='tab'></span> } <span class='pr'>catch</span>(Exception e) {<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> error = "No se pudo eliminar al alumno "+this.getNombreCompleto(tmp);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> LOG.error(error, e);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> agregarMensajeError(summary, error);<br/> <span class='tab'></span>  <span class='tab'></span> }<br/> <span class='tab'></span>  <span class='tab'></span> reload();<br/> <span class='tab'></span> }
                    </code>
                </p>
                <p class="p_sec">
                    Las ultimas funciones para presentar el nombre
                </p>
                <p class="panel-code">
                    <code class="code-build">
                          <span class='tab'></span> <span class='pr'>private</span> <span class='pr'>static</span> <span class='pr'>final</span> DecimalFormat formatoMatricula = <span class='pr'>new</span> DecimalFormat("000000");<br/><br/> <span class='tab'></span> <span class='pr'>public</span> String getNombreCompleto(Alumno al) {<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>return</span> al.getNombres()+" "+al.getApellidoPaterno()+" "+al.getApellidoMaterno();<br/> <span class='tab'></span> }<br/> <span class='tab'></span> <br/> <span class='tab'></span> <span class='pr'>public</span> String getNombreFormateado(Alumno alumno) {<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>return</span> formatoMatricula.format(alumno.getMatricula())+" - "+getNombreCompleto(alumno);<br/> <span class='tab'></span> } <br/><br/>
                           <span class='tab'></span> <span class='pr'>public</span> <span class='pr'>void</span> onRowSelect() { <span class="com">// una ultima funcion que se necesita para mas adelante</span><br/> <span class='tab'></span>  <span class='tab'></span> nombres = alumno.getNombres();<br/> <span class='tab'></span>  <span class='tab'></span> apellidoPaterno = alumno.getApellidoPaterno();<br/> <span class='tab'></span>  <span class='tab'></span> apellidoMaterno = alumno.getApellidoMaterno();<br/> <span class='tab'></span>  <span class='tab'></span> matricula = alumno.getMatricula();<br/> <span class='tab'></span> }<br/> <span class='tab'></span> 
                    </code>
                </p>
                <p class="p_sec">
                    <a data-toggle="collapse" role="button" href="#collapse12">Codigo completo: AdministradorAlumnosBean.java</a>
                </p>
                <div class="collapse" id="collapse12">
                    <p class="panel-code">
                        <code class="code-build">
                            <span class='pr'>package</span> com.matco.manual.bean;<br/><br/><span class='pr'>import</span> java.io.Serializable;<br/><span class='pr'>import</span> java.text.DecimalFormat;<br/><span class='pr'>import</span> javax.annotation.PostConstruct;<br/><span class='pr'>import</span> javax.faces.bean.ManagedBean;<br/><span class='pr'>import</span> javax.faces.bean.ViewScoped;<br/><span class='pr'>import</span> javax.faces.context.FacesContext;<br/><span class='pr'>import</span> org.apache.log4j.Logger;<br/><span class='pr'>import</span> org.primefaces.PrimeFaces;<br/><span class='pr'>import</span> com.matco.manual.entity.Alumno;<br/><span class='pr'>import</span> com.matco.manual.facade.AlumnoFacade;<br/><span class='pr'>import</span> java.util.ArrayList;<br/><span class='pr'>import</span> java.util.Collections;<br/><span class='pr'>import</span> java.util.Comparator;<br/><span class='pr'>import</span> java.util.Date;<br/><span class='pr'>import</span> java.util.List;<br/><br/><br/>@ManagedBean(name = "administradorAlumnosBean")<br/>@ViewScoped<br/><span class='pr'>public</span> <span class='pr'>class</span> AdministradorAlumnosBean <span class='pr'>extends</span> GenericBean <span class='pr'>implements</span> Serializable{<br/><br/> <span class='tab'></span> <span class='com-multi'>/**<br/> <span class='tab'></span>  * <br/> <span class='tab'></span>  */</span><br/> <span class='tab'></span> <span class='pr'>private</span> <span class='pr'>static</span> <span class='pr'>final</span> <span class='pr'>long</span> serialVersionUID = -7062286680165571605L;<br/> <span class='tab'></span> <span class='pr'>private</span> <span class='pr'>static</span> <span class='pr'>final</span> DecimalFormat formatoMatricula = <span class='pr'>new</span> DecimalFormat("000000");<br/> <span class='tab'></span> <br/> <span class='tab'></span> <span class='pr'>private</span> <span class='pr'>static</span> <span class='pr'>final</span> Logger LOG = Logger.getLogger(AdministradorAlumnosBean.<span class='pr'>class</span>); // Para el log4j<br/> <span class='tab'></span> <span class='pr'>private</span> FacesContext ctx = FacesContext.getCurrentInstance(); // Para poder conseguir los parametros del web.xml<br/> <span class='tab'></span> <span class='pr'>private</span> String configFile = ctx.getExternalContext().getInitParameter("adm<span class='pr'>int</span>x_csa"); <br/> <span class='tab'></span> <br/> <span class='tab'></span> <span class='pr'>private</span> AlumnoFacade alumnoFacade = <span class='pr'>new</span> AlumnoFacade(configFile); // instancia de la fachada para conectar con los metodos<br/> <span class='tab'></span> <br/> <span class='tab'></span> <span class='pr'>private</span> List&lt;Alumno&gt; alumnosList; // lista de alumnos<br/> <span class='tab'></span> <span class='pr'>private</span> Alumno <span class='var'>alumno</span>; //el alumno que sera editado<br/> <span class='tab'></span> <span class='pr'>private</span> LoginBean loginBean; // instancia del loginBean para obtener el usuario<br/> <span class='tab'></span> <br/> <span class='tab'></span> <span class='pr'>private</span> String <span class='var'>nombres</span>; // nombres del alumno<br/> <span class='tab'></span> <span class='pr'>private</span> String <span class='var'>apellidoPaterno</span>;<br/> <span class='tab'></span> <span class='pr'>private</span> String <span class='var'>apellidoMaterno</span>;<br/> <span class='tab'></span> <span class='pr'>private</span> <span class='pr'>int</span> <span class='var'>matricula</span>;<br/> <span class='tab'></span> <span class='pr'>private</span> String <span class='var'>error</span>; // Detalle del error que puede generar una fachada<br/> <span class='tab'></span> <span class='pr'>private</span> String summary = "Alumnos"; // Es la tabla en la que estamos trabajando<br/> <span class='tab'></span> <span class='pr'>private</span> String <span class='var'>usuario</span>; //  Es el usuario que esta loggeado en la app<br/> <span class='tab'></span> <span class='pr'>private</span> String <span class='var'>details</span>; // Es el detalle despues de una llamada exitosa a la fachada<br/> <span class='tab'></span> <br/> <span class='tab'></span> <span class='pr'>public</span> List&lt;Alumno&gt; getAlumnosList() {<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>return</span> alumnosList;<br/> <span class='tab'></span> }<br/> <span class='tab'></span> <span class='pr'>public</span> <span class='pr'>void</span> setAlumnosList(List&lt;Alumno&gt; alumnosList) {<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>this</span>.<span class='var'>alumnosList</span> = alumnosList;<br/> <span class='tab'></span> }<br/> <span class='tab'></span> <span class='pr'>public</span> Alumno getAlumno() {<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>return</span> <span class='var'>alumno</span>;<br/> <span class='tab'></span> }<br/> <span class='tab'></span> <span class='pr'>public</span> <span class='pr'>void</span> setAlumno(Alumno alumno) {<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>this</span>.<span class='var'>alumno</span> = <span class='var'>alumno</span>;<br/> <span class='tab'></span> }<br/> <span class='tab'></span> <span class='pr'>public</span> String getNombres() {<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>return</span> <span class='var'>nombres</span>;<br/> <span class='tab'></span> }<br/> <span class='tab'></span> <span class='pr'>public</span> <span class='pr'>void</span> setNombres(String nombres) {<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>this</span>.<span class='var'>nombres</span> = <span class='var'>nombres</span>;<br/> <span class='tab'></span> }<br/> <span class='tab'></span> <span class='pr'>public</span> String getApellidoPaterno() {<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>return</span> <span class='var'>apellidoPaterno</span>;<br/> <span class='tab'></span> }<br/> <span class='tab'></span> <span class='pr'>public</span> <span class='pr'>void</span> setApellidoPaterno(String apellidoPaterno) {<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>this</span>.<span class='var'>apellidoPaterno</span> = <span class='var'>apellidoPaterno</span>;<br/> <span class='tab'></span> }<br/> <span class='tab'></span> <span class='pr'>public</span> String getApellidoMaterno() {<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>return</span> <span class='var'>apellidoMaterno</span>;<br/> <span class='tab'></span> }<br/> <span class='tab'></span> <span class='pr'>public</span> <span class='pr'>void</span> setApellidoMaterno(String apellidoMaterno) {<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>this</span>.<span class='var'>apellidoMaterno</span> = <span class='var'>apellidoMaterno</span>;<br/> <span class='tab'></span> }<br/> <span class='tab'></span> <span class='pr'>public</span> <span class='pr'>int</span> getMatricula() {<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>return</span> <span class='var'>matricula</span>;<br/> <span class='tab'></span> }<br/> <span class='tab'></span> <span class='pr'>public</span> <span class='pr'>void</span> setMatricula(<span class='pr'>int</span> matricula) {<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>this</span>.<span class='var'>matricula</span> = <span class='var'>matricula</span>;<br/> <span class='tab'></span> }<br/> <span class='tab'></span> <br/> <span class='tab'></span> @PostConstruct<br/> <span class='tab'></span> <span class='pr'>public</span> <span class='pr'>void</span> init() {<br/> <span class='tab'></span>  <span class='tab'></span> loginBean = <span class='pr'>this</span>.<span class='var'>obtenerBean("loginBean");</span><br/> <span class='tab'></span>  <span class='tab'></span> usuario = loginBean.getUsuario() != <span class='pr'>null</span> ? loginBean.getUsuario().getUsuario() : "DESARROLLO";<br/> <span class='tab'></span>  <span class='tab'></span> alumnosList = listarAlumnos();<br/> <span class='tab'></span> }<br/> <span class='tab'></span> <br/> <span class='tab'></span> <span class='pr'>public</span>
                            List&lt;Alumno&gt; listarAlumnos() {<br/> <span class='tab'></span>  <span class='tab'></span> List&lt;Alumno&gt; alumnos = <span class='pr'>new</span> ArrayList&lt;Alumno&gt;();<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>try</span> {<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> alumnos = alumnoFacade.obtenerTodosAlumnos();<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> Comparator&lt;Alumno&gt; comp = (Alumno a, Alumno b) -&gt; {<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> Date fechaA = a.getFechaHoraCreacion() != <span class='pr'>null</span> ? a.getFechaHoraCreacion() : <span class='pr'>new</span> Date();<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> Date fechaB = b.getFechaHoraCreacion() != <span class='pr'>null</span> ? b.getFechaHoraCreacion() : <span class='pr'>new</span> Date();<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> <span class='pr'>return</span> <span class='var'>fechaB.compareTo(fechaA)</span>;<br/> <span class='tab'></span>  <span class='tab'></span> };<br/> <span class='tab'></span>  <span class='tab'></span> Collections.sort(alumnos, comp);<br/> <span class='tab'></span>  <span class='tab'></span> } <span class='pr'>catch</span>(Exception e) {<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> error = "No se pudieron listar los "+ <span class='var'>summary</span>;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> LOG.error(error, e);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> agregarMensajeError(summary, error);<br/> <span class='tab'></span>  <span class='tab'></span> }<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>return</span> <span class='var'>alumnos</span>;<br/> <span class='tab'></span> }<br/> <span class='tab'></span> <br/> <span class='tab'></span> <span class='pr'>public</span> <span class='pr'>void</span> agregarAlumno() {<br/> <span class='tab'></span>  <span class='tab'></span> Alumno nuevo = <span class='pr'>new</span> Alumno();<br/> <span class='tab'></span>  <span class='tab'></span> nuevo.setNombres(nombres);<br/> <span class='tab'></span>  <span class='tab'></span> nuevo.setApellidoPaterno(apellidoPaterno);<br/> <span class='tab'></span>  <span class='tab'></span> nuevo.setApellidoMaterno(apellidoMaterno);<br/> <span class='tab'></span>  <span class='tab'></span> nuevo.setCreadoPor(usuario);<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>try</span> {<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> <span class='pr'>int</span> matricula = alumnoFacade.guardarAlumno(nuevo);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> nuevo.setMatricula(matricula);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> details = "Se ha agregado correctamente el alumno "+this.getNombreFormateado(nuevo);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> agregarMensajeInfo(summary, details);<br/> <span class='tab'></span>  <span class='tab'></span> } <span class='pr'>catch</span> (Exception e) {<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> error = "No se pudo agregar el alumno "+this.getNombreCompleto(nuevo);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> LOG.error(summary, e);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> agregarMensajeError(summary, error);<br/> <span class='tab'></span>  <span class='tab'></span> }<br/> <span class='tab'></span>  <span class='tab'></span> reload();<br/> <span class='tab'></span>  <span class='tab'></span> <br/> <span class='tab'></span> }<br/> <span class='tab'></span> <br/> <span class='tab'></span> <span class='pr'>public</span> <span class='pr'>void</span> reload() {<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>if</span> (alumnosList != <span class='pr'>null</span>) {<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> alumnosList.clear();<br/> <span class='tab'></span>  <span class='tab'></span> }<br/> <span class='tab'></span>  <span class='tab'></span> alumnosList = listarAlumnos();<br/> <span class='tab'></span>  <span class='tab'></span> nombres = "";<br/> <span class='tab'></span>  <span class='tab'></span> apellidoPaterno = "";<br/> <span class='tab'></span>  <span class='tab'></span> apellidoMaterno = "";<br/> <span class='tab'></span>  <span class='tab'></span> matricula = 0;<br/> <span class='tab'></span>  <span class='tab'></span> alumno = <span class='pr'>null</span>;<br/> <span class='tab'></span>  <span class='tab'></span> PrimeFaces pf = PrimeFaces.current();<br/> <span class='tab'></span>  <span class='tab'></span> pf.executeScript("PF('tablaAlumnos').clearFilters()");<br/> <span class='tab'></span> }<br/> <span class='tab'></span> <br/> <span class='tab'></span> <span class='pr'>public</span> <span class='pr'>void</span> mod<span class='pr'>if</span>icarAlumno() {<br/> <span class='tab'></span>  <span class='tab'></span> Alumno mod<span class='pr'>if</span>icar = <span class='var'>alumno</span>;<br/> <span class='tab'></span>  <span class='tab'></span> mod<span class='pr'>if</span>icar.setNombres(nombres);<br/> <span class='tab'></span>  <span class='tab'></span> mod<span class='pr'>if</span>icar.setApellidoPaterno(apellidoPaterno);<br/> <span class='tab'></span>  <span class='tab'></span> mod<span class='pr'>if</span>icar.setApellidoMaterno(apellidoMaterno);<br/> <span class='tab'></span>  <span class='tab'></span> mod<span class='pr'>if</span>icar.setMod<span class='pr'>if</span>icadoPor(usuario);<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>try</span> {<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> alumnoFacade.mod<span class='pr'>if</span>icarAlumno(mod<span class='pr'>if</span>icar);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> details = "Se ha mod<span class='pr'>if</span>icado correctamente el alumno "+this.getNombreFormateado(mod<span class='pr'>if</span>icar);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> agregarMensajeInfo(summary, details);<br/> <span class='tab'></span>  <span class='tab'></span> } <span class='pr'>catch</span> (Exception e) {<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> error = "No se pudo mod<span class='pr'>if</span>icar el alumno "+this.getNombreCompleto(mod<span class='pr'>if</span>icar);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> LOG.error(error, e);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> agregarMensajeError(summary, error);<br/> <span class='tab'></span>  <span class='tab'></span> }<br/> <span class='tab'></span>  <span class='tab'></span> reload();<br/> <span class='tab'></span> }<br/> <span class='tab'></span> <br/> <span class='tab'></span> <span class='pr'>public</span> <span class='pr'>void</span> eliminarAlumno() {<br/> <span class='tab'></span>  <span class='tab'></span> Alumno tmp = <span class='var'>alumno</span>;<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>try</span> {<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> alumnoFacade.eliminarAlumno(tmp);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> details = "Se ha eliminado al ex-alumno: "+this.getNombreFormateado(tmp);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> agregarMensajeInfo(summary, details);<br/> <span class='tab'></span>  <span class='tab'></span> } <span class='pr'>catch</span>(Exception e) {<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> error = "No se pudo eliminar al alumno "+this.getNombreCompleto(tmp);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> LOG.error(error, e);<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> agregarMensajeError(summary, error);<br/> <span class='tab'></span>  <span class='tab'></span> }<br/> <span class='tab'></span>  <span class='tab'></span> reload();<br/> <span class='tab'></span> }<br/> <span class='tab'></span> <br/><br/> <span class='tab'></span> <span class='pr'>public</span> String getNombreCompleto(Alumno al) {<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>return</span> al.getNombres()+" "+al.getApellidoPaterno()+" "+al.<span class='var'>getApellidoMaterno()</span>;<br/> <span class='tab'></span> }<br/> <span class='tab'></span> <br/> <span class='tab'></span> <span class='pr'>public</span> String getNombreFormateado(Alumno alumno) {<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>return</span> formatoMatricula.format(alumno.getMatricula())+" - "+getNombreCompleto(alumno);<br/> <span class='tab'></span> }<br/> <span class='tab'></span> <br/> <span class='tab'></span> <span class='pr'>public</span> <span class='pr'>void</span> onRowSelect() {<br/> <span class='tab'></span>  <span class='tab'></span> nombres = alumno.<span class='var'>getNombres()</span>;<br/> <span class='tab'></span>  <span class='tab'></span> apellidoPaterno = alumno.<span class='var'>getApellidoPaterno()</span>;<br/> <span class='tab'></span>  <span class='tab'></span> apellidoMaterno = alumno.<span class='var'>getApellidoMaterno()</span>;<br/> <span class='tab'></span>  <span class='tab'></span> matricula = alumno.<span class='var'>getMatricula()</span>;<br/> <span class='tab'></span> }<br/>}
                        </code>
                    </p>
                </div>
                <p class="p_sec">
                    Después de tener listos nuestros métodos principales del catálogo, toca empezar con xhtml. <br/><br/> 
                    Primero debemos establecer las páginas que vamos a utilizar, para esto necesitamos una página principal para el catálogo y tres diálogos.
                    <br/><br/>
                    Crearas una carpeta llamada <span class="blue">alumnos</span>, dentro de la carpeta WebContent y crearas las paginas xhtml.
                    <br/>
                    <span class="blue">catalogoAlumnos.xhtml</span><br/>
                    <span class="blue">dialogoAgregarAlumno.xhtml</span><br/>
                    <span class="blue">dialogoEditarAlumno.xhtml</span><br/>
                    <span class="blue">dialogoEliminarAlumno.xhtml</span><br/>
                </p>
                <div class="text-center">
                    <img src="../img/img76.png" class="img-fluid rounded" alt="...">
                </div>
                <p class="p_sec">
                    Por el momento las páginas estarán vacías, nos preocuparemos de llenarlas ya que terminemos con los templates y el login. El login es genérico, este se encuentra en la carpeta <a href="paginas" target="_blank" >Páginas</a> del manual.

                    <br/><br/>
                    Solo tenemos que crear una carpeta login y dentro ponemos el <a href="paginas/login.txt">login.xhtml</a>. <br/><br/>
                    Ahora tenemos que pegar la carpeta resources, la cual tiene archivos css, imágenes, js etc… 
                </p>
                <div class="text-center">
                    <img src="../img/img77.png" class="img-fluid rounded" alt="...">
                </div>
                <p class="p_sec">
                    Ahora pegaremos la carpeta templates dentro de WEB-INF.
                </p>
                <div class="text-center">
                    <img src="../img/img78.png" class="img-fluid rounded" alt="...">
                </div>
                <p class="p_sec">
                    Empezando con footer.xhtml. En xhtml para poder utilizar los namespace se necesita hacer una composition como en la imagen de abajo.
                </p>
                <div class="text-center">
                    <img src="../img/img79.png" class="img-fluid rounded" alt="...">
                </div>
                <p class="p_sec">
                    Las composition nos dan las herramientas para poder utilizar los diversos componentes que tiene jsf, estos dependen mucho de la página de donde se saca y podemos saber qué hace cada uno, cada componente tiene sus propios atributos y hay que conocerlos para poder trabajar con ellos. En la composición, se debe de respetar los nombres que están preestablecidos. <br/><br/>
                </p>
                <p class="p_sec">
                    Este es el topmenu.xhtml Esta parte contiene el nombre de usuario, rol y la opción para cerrar sesión.
                </p>
                 <div class="text-center">
                    <img src="../img/img80.png" class="img-fluid rounded" alt="...">
                </div>
                
                <p class="p_sec">
                    Este es el topbar.xhtml. Aquí se pone el nombre de la aplicación, en nuestro caso es “Manual”.
                </p>
                <div class="text-center">
                    <img src="../img/img81.png" class="img-fluid rounded" alt="...">
                </div>
                <p class="p_sec">
                    Este es el layoutmenu.xhtml
                </p>
                <div class="text-center">
                    <img src="../img/img82.png" class="img-fluid rounded" alt="...">
                </div>
                <p class="p_sec">
                    Ahora mismo nuestro layoutmenu es muy corto, ya que nosotros estamos utilizando un catálogo nada más. Explicando las etiquetas de la opción en el menú dejaría un poco más claro lo que hace. <br/><br/>
                    Value=”ALUMNOS” el valor que se le da a la opción, es su label. <br/> <br/>
                    Immediate=”true” si se requiere que la acción se haga aunque la petición sea un fracaso. <br/><br/>
                    Action=”catalogoAlumnos” este parámetro se configura en el faces-config.xml.
                </p>
                <p class="p_sec">
                    Para importar <span class="blue">faces-config.xml</span>, nos vamos a la carpeta del manual → XML. Ahí encontraras dos xml y los copias en la carpeta <span class="blue">WEB-INF</span>.
                </p>
                <div class="text-center">
                    <img src="../img/img81.2.png" class="img-fluid rounded" alt="...">
                </div>
                <p class="p_sec">
                    Abres <span class="blue">faces-config.xml</span> y das clic abajo donde dice <span class="blue">source</span> y lo configuras.
                </p>
                <div class="text-center">
                    <img src="../img/img83.png" class="img-fluid rounded" alt="...">
                </div>
                <p class="p_sec">
                    Ya tenemos todo listo para poder empezar con el código de xhtml y poder visualizar nuestro catálogo con sus operaciones básicas. <br/>
                    Primero hay que situarnos sobre los diálogos, ya que son más rápidos, fáciles de comprender y por lo general son muy chicos.
                </p>
                <p class="p_sec">
                    Diálogo agregar:
                </p>
                <p class="panel-code">
                    <code class="code-build">
                        &lt;HTML xmlns  = "http://www.w3.org/1999/xhtml"<br/> <span class='tab'></span> xmlns:ui = "http://java.sun.com/jsf/facelets"<br/> <span class='tab'></span> xmlns:h  = "http://java.sun.com/jsf/html"<br/> <span class='tab'></span> xmlns:f  = "http://java.sun.com/jsf/core"<br/> <span class='tab'></span> xmlns:p  = "http://primefaces.org/ui"&gt;<br/><br/> <span class='tab'></span> &lt;p:dialog header="ALTA ALUMNO" widgetVar="altaAlumno" id="altaAlumno"<br/> <span class='tab'></span>  <span class='tab'></span> appendTo="@(body)" dynamic="false" resizable="false" modal="true"<br/> <span class='tab'></span>  <span class='tab'></span> showEffect="fade" hideEffect="fade" height="200px" width="450px"<br/> <span class='tab'></span>  <span class='tab'></span> closable="false"&gt;<br/> <span class='tab'></span>  <span class='tab'></span> &lt;h:form id="formDialogAgregar"&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:panel style="border:none"&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:panelGrid columns="2"&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:outputLabel value="Nombre:" for="nombre"/&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:inputText id="nombre" value="#{administradorAlumnosBean.nombres}" /&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:outputLabel value = "Apellido Paterno: " for="apellidoPaterno"/&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:inputText id="apellidoPaterno" value="#{administradorAlumnosBean.apellidoPaterno}" /&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:outputLabel value = "Apellido Materno: " for="apellidoMaterno"/&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:inputText id="apellidoMaterno" value="#{administradorAlumnosBean.apellidoMaterno}" /&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;/p:panelGrid&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;div style="margin-top:10px; display: block; text-align: center"&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:commandButton value = "Registrar"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> oncomplete="PF('altaAlumno').hide();"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> process="@parent"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> actionListener="#{administradorAlumnosBean.agregarAlumno}"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> update="nombre, apellidoPaterno, apellidoMaterno, :formAlumnos:tablaAlumnos, :formAlumnos:menuBar,<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> :formAlumnos:growl"/&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:commandButton value="Cancelar" onclick="PF('altaAlumno').hide();"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> actionListener="#{administradorAlumnosBean.reload}"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> update="nombre, apellidoPaterno, apellidoMaterno, <br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> :formAlumnos:tablaAlumnos, :formAlumnos:menuBar"/&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> <br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;/div&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;/p:panel&gt;<br/> <span class='tab'></span>  <span class='tab'></span> &lt;/h:form&gt;<br/> <span class='tab'></span> &lt;/p:dialog&gt;<br/>&lt;/HTML&gt;
                    </code>
                </p>
                <p class="p_sec">
                    Como antes, utilizamos la llamada composición, como el dialogo está en una página aparte, para poder poner el código y que este corresponda bien con las tag que estamos haciendo, necesitamos ponerlo. <br/><br/>
                    <span class="blue">&lt;p:dialog&gt;</span> Este es un diálogo, los atributos que manejamos son los siguientes <br/><br/>
                    <span class="pr">header</span>=<span class="var">"ALTA ALUMNO"</span> - Es el nombre que sale en el titulo del diálogo. <br/>
                    <span class="pr">widgetVar</span>=<span class="var">"altaAlumno"</span> - Es el identificador para las llamadas de JavaScript. <br/>
                    <span class="pr">id</span>=<span class="var">"altaAlumno"</span> - Es el id que le damos. <br/>
                    <span class="pr">appendTo</span>=<span class="var">"@(body)"</span> - Es para que se pegue al body desde el que se invoca. <br/>
                    <span class="pr">resizable</span>=<span class="var">"false"</span> - Es para poder cambiar el tamaño del diálogo. <br/>
                    <span class="pr">showEffect</span>=<span class="var">"fade"</span> – Es el efecto al mostrar. <br/>
                    <span class="pr">hideEffect</span>=<span class="var">"fade"</span> – Es el efecto al ocultar. <br/>
                    <span class="pr">height</span>=<span class="var">"200px"</span> - Es la altura del diálogo. <br/>
                    <span class="pr">width</span>=<span class="var">"450px"</span> - Es la anchura del diálogo. <br/>
                    <span class="pr">closable</span>=<span class="var">"false"</span> – Esto determina si se puede cerrar con un botón X. <br/> <br/>
                    <span class="blue">&lt;h:form&gt;</span> Form de html común, se le pone un id para poder identificarlo. <br/><br/>
                    <span class="blue">&lt;p:panel&gt;</span> Es un panel que tiene un estilo ya predefinido, por lo general tiene un padding. <br/><br/>
                    <span class="blue">&lt;p:panelGrid&gt;</span> Es un panel pero acomodado, aquí se manejan distintos atributos para poder partirlo en partes iguales o desiguales. 
                    <br/><br/>
                    <span class="blue">&lt;p:outputLabel&gt;</span> Es una etiqueta, tiene el value normal y el for lo utiliza para poder dirigirse a un componente dentro del formulario. <br/><br/>
                    <span class="blue">&lt;p:inputText&gt;</span> Es una caja de texto, a esta se le puede poner reglas de input, ya sea una expresión regular para poder restringir el tipo de caracteres que entran.
                </p>
                <p class="p_sec">
                    Primero hay que darnos cuenta de algo muy importante, ya que no sirve de nada hacer una página hueca si no va a tener interacción con el lado del servidor, para esto existe el expression lenguaje (EL), aquí se ve un ejemplo: <br/><br/>
                    <span class="blue">&lt;p:inputText</span> <span class="pr">id</span>=<span class="var">"nombre"</span> <span class="pr">value</span>=<span class="var">"#{administradorAlumnosBean.nombre}"</span> /&gt;<br/><br/>
                    ¿Recuerdan la private String nombre;? ¿Recuerdan que le pusimos getter y setter? Para esto es, ya que el @ManagedBean permite que desde la página podamos mandar a llamar mediante el EL a estas variables, por eso se tiene que encapsular y poner getter y setter, ya que podremos escribir en ellas y leerlas. Hay que tener en cuenta qué es lo que vamos a meter, por ejemplo, no podemos poner un inputText con una variable que vayamos a utilizar como número, ya sea un Integer, si es para visualizar nada más no hay ningún problema, pero si hacemos algo así <br/><br/>
                    inputText value=”#{bean.numero} y en nuestro bean utilizamos ese número, el número saldrá inválido ya que no se puede meter un string dentro de cualquier variable numérica, primero tendremos que castearla, para evitar esos problemas y el verbose desde java se utiliza el inputNumber, este tiene sus atributos mágicos para poder poner restricciones a los números, minimos y máximos, cuantos decimales quieres, los símbolos que necesites, etc…
                </p>
                <p class="p_sec">Ahora hablaremos sobre <span class="blue">&lt;p:commandButton&gt;</span></p>
                <div class="text-center">
                    <img src="../img/img84.png" class="img-fluid rounded" alt="...">
                </div>
                <p class="p_sec">
                    oncomplete sirve para poder ejecutar una llamada de JS después de que el actionListener termine. <br/><br/>
                    Process ubica los componentes a los que se les va a aplicar el request, en un ejemplo fácil, hay una puerta y hay una persona viendo quién pasa, el process decide quién pasa y quién no pasa, si ponemos <br/><br/>
                    Process=”@parent” se encargará de procesar los componentes que se encuentren dentro de el formulario padre, y como el dialogo está dentro de un formulario, este sería el afectado. No se confundan, no hará efecto sobre el formulario en donde está el catálogo, ya que el formulario ese y los formularios de los diálogos están al mismo nivel, haría efecto sobre el formulario que se encuentra en el “Card” del div, ya que este se carga desde un inicio gracias a los ui:define. <br/><br/>
                    actionListener es el que revisa cuál método es el que se va a mandar a llamar una vez que se presione el botón, una vez que se termine de ejecutar el método se podrá ejecutar el oncomplete. <br/><br/>
                    Update se encarga de actualizar los componentes que lleven por id los que se han metido dentro del mismo atributo, se puede mandar a actualizar componentes fuera del mismo formulario, para esto se necesita poner un : y la referencia del componente completa para poder ubicarlo, ejemplo: <br/>
                    <span class="blue">:formAlumnos:tablaAlumnos</span>
                </p>
                <p class="p_sec">
                    Nosotros podemos poner todos los id que queramos, pero estos deben ser existentes y estar en donde estamos especificando que existen. Si no se hace esto nos saltará una pantalla de error toda fea en nuestra página. <br/><br/>
                    El segundo botón es el de cancelar, este manda a llamar al método reload para poder limpiar las variables y hace un update a los componentes que podrían haber sido afectados al momento de abrir esa pantalla.
                </p>
                <p class="p_sec">
                    Diálogo editar Alumno:
                </p>
                <p class="panel-code">
                    <code class="code-build">
                        &lt;HTML xmlns  = "http://www.w3.org/1999/xhtml"<br/> <span class='tab'></span> xmlns:ui = "http://java.sun.com/jsf/facelets"<br/> <span class='tab'></span> xmlns:h  = "http://java.sun.com/jsf/html"<br/> <span class='tab'></span> xmlns:f  = "http://java.sun.com/jsf/core"<br/> <span class='tab'></span> xmlns:p  = "http://primefaces.org/ui"&gt;<br/><br/> <span class='tab'></span> &lt;p:dialog header="EDITAR ALUMNO" widgetVar="editarAlumno" id="editarAlumno"<br/> <span class='tab'></span>  <span class='tab'></span> appendTo="@(body)" dynamic="false" resizable="false" modal="true"<br/> <span class='tab'></span>  <span class='tab'></span> showEffect="fade" hideEffect="fade" height="200px" width="450px"<br/> <span class='tab'></span>  <span class='tab'></span> closable="false"&gt;<br/> <span class='tab'></span>  <span class='tab'></span> &lt;h:form id="formDialogoModificar"&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:panel style="border:none"&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:panelGrid columns="2"&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:outputLabel value="Matricula: " for="matricula"/&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:inputText id="matricula" value="#{administradorAlumnosBean.matricula}" /&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:outputLabel value="Nombre:" for="nombre"/&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:inputText id="nombre" value="#{administradorAlumnosBean.nombres}" /&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:outputLabel value = "Apellido Paterno: " for="apellidoPaterno"/&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:inputText id="apellidoPaterno" value="#{administradorAlumnosBean.apellidoPaterno}" /&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:outputLabel value = "Apellido Materno: " for="apellidoMaterno"/&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:inputText id="apellidoMaterno" value="#{administradorAlumnosBean.apellidoMaterno}" /&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;/p:panelGrid&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;div style="margin-top:10px; display: block; text-align: center"&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:commandButton value = "Editar"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> oncomplete="PF('editarAlumno').hide();"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> process="@parent"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> actionListener="#{administradorAlumnosBean.modificarAlumno}"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> update="nombre, apellidoPaterno, apellidoMaterno, <br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> :formAlumnos:tablaAlumnos, :formAlumnos:menuBar,<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> :formAlumnos:growl"/&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:commandButton value="Cancelar" onclick="PF('altaAlumno').hide();"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> actionListener="#{administradorAlumnosBean.reload}"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> update="nombre, apellidoPaterno, apellidoMaterno, <br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> :formAlumnos:tablaAlumnos, :formAlumnos:menuBar"/&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;/div&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;/p:panel&gt;<br/> <span class='tab'></span>  <span class='tab'></span> &lt;/h:form&gt;<br/> <span class='tab'></span> &lt;/p:dialog&gt;<br/>&lt;/HTML
                    </code>
                </p>    
                <p class="p_sec">
                    Este se parece mucho al gregar, lo único que cambia son algunos componentes dentro del update, el header, la widgetVar, y se le mete el campo de matrícula, ojo, este es un inputText debido a que solo es para efecto de consulta. <br/><br/>
                    Aquí nos damos cuenta de que existe un atributo disabled, este atributo se encarga de deshabilitar el componente para que no se le pueda dar click, dar focus con tab ni poder editarlo.
                </p>
                <p class="p_sec">Diálogo eliminar:</p>
                <p class="panel-code">
                    <code class="code-build">
                        &lt;HTML xmlns    = "http://www.w3.org/1999/xhtml"<br/>  <span class='tab'></span>   xmlns:ui = "http://java.sun.com/jsf/facelets"<br/>  <span class='tab'></span>   xmlns:h  = "http://java.sun.com/jsf/html"<br/> <span class='tab'></span>   xmlns:f  = "http://java.sun.com/jsf/core"<br/> <span class='tab'></span>   xmlns:p  = "http://primefaces.org/ui"&gt;<br/><br/> <span class='tab'></span> &lt;p:confirmDialog id="eliminarAlumno" header="Confirmacion" widgetVar="eliminarAlumno"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  width="410" height="40" closable="false" position="center center"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  onShow="PF('confirmacion').initPosition()" responsive="true"&gt;<br/> <span class='tab'></span>  <span class='tab'></span> &lt;p:commandButton value="Si" process="@parent" <br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> update=":formAlumnos:tablaAlumnos :formAlumnos:growl :formAlumnos:menuBar"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> oncomplete="PF('eliminarAlumno').hide();"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> actionListener="#{administradorAlumnosBean.eliminarAlumno}" /&gt;<br/> <span class='tab'></span>  <span class='tab'></span> &lt;p:commandButton value="No" oncomplete="PF('eliminarAlumno').hide()"/&gt;<br/> <span class='tab'></span>  <span class='tab'></span> &lt;f:facet name="message"&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;div&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;h:outputFormat value="Estas seguro que desea eliminar al alumno?" escape="false"/&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;/div&gt;<br/> <span class='tab'></span>  <span class='tab'></span> &lt;/f:facet&gt;<br/> <span class='tab'></span> &lt;/p:confirmDialog&gt;<br/>&lt;/HTML&gt;
                    </code>
                </p>
                <p class="p_sec">
                    Aquí es diferente, ya que aquí se maneja un diálogo de confirmación, se utilizan dos botones que ya se han visto con anterioridad, solamente que se pone un mensaje con un icono especial como advertencia para ver si el usuario de verdad quiere realizar esa acción.
                </p>
                <p class="p_sec">
                    Catálogo alumnos:
                    <br>
                    <br>
                    Este código es importante, aquí se crea la tabla para mostrar y se importan los dialogos.
                </p>
                <p class="panel-code">
                    <code class="code-build">
                        &lt;ui:composition xmlns    = "http://www.w3.org/1999/xhtml"<br/>  <span class='tab'></span>   xmlns:ui = "http://java.sun.com/jsf/facelets"<br/>  <span class='tab'></span>   xmlns:h  = "http://java.sun.com/jsf/html"<br/> <span class='tab'></span>   xmlns:f  = "http://java.sun.com/jsf/core"<br/> <span class='tab'></span>   xmlns:p  = "http://primefaces.org/ui"<br/> <span class='tab'></span>   template = "/WEB-INF/templates/layoutnormal.xhtml"&gt;<br/> <span class='tab'></span>   <br/> <span class='tab'></span> &lt;ui:define name="cuerpo"&gt;<br/> <span class='tab'></span>  <span class='tab'></span> &lt;div class="Card"&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;h:form id="formAlumnos"&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:breadCrumb&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:menuitem value="Home"/&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:menuitem value="Catalogos"/&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:menuitem value="Alumnos"/&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;/p:breadCrumb&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;br /&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:growl id="growl" showSummary="true" showDetail="true" life="2000" sticky="false"/&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:menubar id="menuBar"&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:submenu label="Opciones"&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:menuitem value="Registrar" icon="fa fa-plus" onclick="PF('altaAlumno').show();"/&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:menuitem value="Editar" icon="fa fa-plus" onclick="PF('editarAlumno').show();" <br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> disabled="#{administradorAlumnosBean.alumno == null}"/&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:menuitem value="Eliminar" icon="fa fa-plus" onclick="PF('eliminarAlumno').show();"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> disabled="#{administradorAlumnosBean.alumno == null}"/&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;/p:submenu&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:menuitem value="Limpiar filtros" icon="fa fa-eraser" onclick="PF('tablaAlumnos').clearFilters()"/&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;/p:menubar&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank"&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:dataTable id="tablaAlumnos" widgetVar="tablaAlumnos"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> var="alumno" value="#{administradorAlumnosBean.alumnosList}" <span class='tab'></span> <br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> selection="#{administradorAlumnosBean.alumno}"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> selectionMode="single"  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> <br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> filteredValue="#{seleccionBean.alumnosListFiltrada}" <span class='tab'></span>  <span class='tab'></span> <br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> rowKey="#{alumno.matricula}" filterDelay="1000"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> paginatorPosition="bottom" rows="10"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> sortMode="multiple" paginator="true" <br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> currentPageReportTemplate="Página: {currentPage} de {totalPages}"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> emptyMessage="No se encontraron Alumnos" style="margin-bottom:20px;"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> rowsPerPageTemplate="5,10,15"&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> <br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:ajax event="rowSelect"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> listener="#{administradorAlumnosBean.onRowSelect}"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> update="formAlumnos:tablaAlumnos, formAlumnos:menuBar, :formDialogoModificar:matricula, :formDialogoModificar:nombre, :formDialogoModificar:apellidoPaterno, :formDialogoModificar:apellidoMaterno" /&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> <br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:column headerText="Matrícula&lt;br/&gt;" sortBy="#{alumno.matricula}" filterBy="#{alumno.matricula}"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> filterMatchMode="contains" filterStyle="width:50%;"&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;h:outputText value="#{alumno.matricula}" /&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;/p:column&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:column headerText="Nombre" sortBy="#{alumno.nombres}" filterBy="#{alumno.nombres}" filterMatchMode="contains"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> filterStyle="width:50%;"&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;h:outputText value="#{alumno.nombres}" /&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;/p:column&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:column headerText="Apellido Paterno&lt;br/&gt;" sortBy="#{alumno.apellidoPaterno}"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> filterBy="#{alumno.apellidoPaterno}" filterMatchMode="contains" filterStyle="width:50%;"&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;h:outputText value="#{alumno.apellidoPaterno}" /&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;/p:column&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;p:column headerText="Apellido Materno" sortBy="#{alumno.apellidoMaterno}"<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> filterBy="#{alumno.apellidoMaterno}" filterMatchMode="contains" filterStyle="width:50%;"&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;h:outputText value="#{alumno.apellidoMaterno}" /&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;/p:column&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;/p:dataTable&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;/p:panelGrid&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;/h:form&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> <br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;ui:include src="dialogoEditarAlumno.xhtml" /&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;ui:include src="dialogoAgregarAlumno.xhtml" /&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> &lt;ui:include src="dialogoEliminarAlumno.xhtml" /&gt;<br/> <span class='tab'></span>  <span class='tab'></span>  <span class='tab'></span> <br/> <span class='tab'></span>  <span class='tab'></span> &lt;/div&gt;  <br/> <span class='tab'></span> &lt;/ui:define&gt;<br/>&lt;/ui:composition&gt;
                    </code>
                </p>
                <p class="p_sec">
                    Ahora el SeleccionBean, este bean sirve como sesión, se parece al loginBean pero este se utiliza para poder guardar objetos de una vista a otra si se requiere, también lo utilizamos para guardar valores importantes dentro de la misma vista en la que interactúan distintos bean. Aquí se mira que utiliza una lista aparte para poder guardar la lista nueva ya filtrada, esto es para que al filtrar, no se pierda la lista original y al cambiar de pagina o seleccionar un registro, no se pierdan los filtros.
                </p>
                <p class="p_sec">
                    Creamos una nueva clase <span class="blue">SeleccionBean</span> en <span class="blue">com.matco.manual.bean</span>
                </p>
                <p class="panel-code">
                    <code class="code-build">
                        <span class='pr'>package</span> com.matco.manual.bean;<br/><br/><span class='pr'>import</span> java.util.List;<br/><span class='pr'>import</span> com.matco.manual.entity.Alumno;<br/><span class='pr'>import</span> javax.faces.bean.ManagedBean;<br/><span class='pr'>import</span> javax.faces.bean.SessionScoped;<br/><br/><br/>@ManagedBean(name = "seleccionBean")<br/>@SessionScoped<br/><span class='pr'>public</span> <span class='pr'>class</span> SeleccionBean {<br/> <span class='tab'></span> <br/> <span class='tab'></span> <span class='pr'>private</span> List&lt;Alumno&gt; alumnosListFiltrada;<br/> <span class='tab'></span> <br/> <span class='tab'></span> <span class='pr'>public</span> List&lt;Alumno&gt; getAlumnosListFiltrada() {<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>return</span> alumnosListFiltrada;<br/> <span class='tab'></span> }<br/><br/> <span class='tab'></span> <span class='pr'>public</span> <span class='pr'>void</span> setAlumnosListFiltrada(List&lt;Alumno&gt; alumnosListFiltrada) {<br/> <span class='tab'></span>  <span class='tab'></span> <span class='pr'>this</span>.<span class='var'>alumnosListFiltrada</span> = alumnosListFiltrada;<br/> <span class='tab'></span> }<br/>}
                    </code>
                </p>
                <br>
                <p class="p_sec">
                    Ahora solo queda implementar el proyecto web dentro de nuestro servidor Wildfly.
                </p>
                <div class="text-center">
                    <img src="../img/img85.png" class="img-fluid rounded" alt="...">
                </div>
                <div class="text-center">
                    <img src="../img/img86.png" class="img-fluid rounded" alt="...">
                </div>
                <p class="p_sec">
                    Iniciamos el servidor de nuevo y vamos a la dirección: <br/>
                    http://localhost:8085/ManualWeb/alumnos/catalogoAlumnos.xhtml
                </p>
            </li>
            <li>
                <p>Pantallas</p>
                <div class="text-center">
                    <img src="../img/img87.png" class="img-fluid rounded" alt="...">
                </div>
                <div class="text-center">
                    <img src="../img/img88.png" class="img-fluid rounded" alt="...">
                </div>
                <div class="text-center">
                    <img src="../img/img89.png" class="img-fluid rounded" alt="...">
                </div>
                <div class="text-center">
                    <img src="../img/img90.png" class="img-fluid rounded" alt="...">
                </div>
                <div class="text-center">
                    <img src="../img/img91.png" class="img-fluid rounded" alt="...">
                </div>
                <div class="text-center">
                    <img src="../img/img92.png" class="img-fluid rounded" alt="...">
                </div>
                <div class="text-center">
                    <img src="../img/img93.png" class="img-fluid rounded" alt="...">
                </div>
            </li>
        </ol>
        <a href="#" class="scrollup">Scroll</a>
    </main>
    <!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> -->
    <!-- <script>window.jQuery || document.write('<script src="/docs/4.3/assets/js/vendor/jquery-slim.min.js"><\/script>')</script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="/docs/4.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-xrRywqdh3PHs8keKZN+8zzc5TX0GRTLCcmivcbNJWm2rs5C8PRhcEn3czEjhAO9o" crossorigin="anonymous"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            $(window).scroll(function(){
                if ($(this).scrollTop() > 100) {
                    $('.scrollup').fadeIn();
                } else {
                    $('.scrollup').fadeOut();
                }
            });
      
            $('.scrollup').click(function(){
                $("html, body").animate({ scrollTop: 0 }, 600);
                return false;
            });
            
        });
    </script>

    </body>
</html>